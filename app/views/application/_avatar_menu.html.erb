<div class="relative" data-controller="avatar-menu">
  <button id="avatar" data-action="click->avatar-menu#toggle keydown@document->avatar-menu#escape" class="relative z-10 block w-8 h-8 rounded-full bg-white border border-slate-200  focus:outline-none focus:border-amber-500 overflow-hidden">
    <%= image_tag avatar(user), class: "object-cover" %>
  </button>

  <button data-avatar-menu-target="clear" data-action="avatar-menu#close" tabindex="-1" class="fixed inset-0 h-full w-full cursor-default hidden"></button>

  <div data-avatar-menu-target="menu" class="absolute right-0 mt-2 w-auto bg-white bg-slate-200 border border-slate-300 py-2 shadow-2xl hidden z-10">
    <p class="block px-4 pt-2 pb-4 text-slate-500 text-sm"><%= user.email %></p>

    <%= link_to "My account", account_path, class: "block px-4 py-2 text-slate-800 text-sm hover:bg-amber-500 hover:text-white" %>
    <%= button_to "Log out", Current.session, method: :delete, class: "block w-full flex px-4 pt-2 py-2 text-slate-800 text-sm hover:bg-amber-500 hover:text-white" %>
  </div>
</div>
